<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      table {
        border-collapse: collapse;
        width: 100%;
        background-color: white;
      }

      tr:hover {
        background-color: #f2f2f2;
      }

      th {
        text-align: center !important;
      }

      td {
        text-align: center !important;
      }

      tr:nth-child(even) {
        background-color: #ffd5d5;
      }
    </style>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://bootswatch.com/4/lux/bootstrap.css" />
    <link
      rel="canonical"
      href="https://getbootstrap.com/docs/4.1/examples/sticky-footer/"
    />
    <script
      src="https://kit.fontawesome.com/10e6429bea.js"
      crossorigin="anonymous"
    ></script>

    <title>Differential Privacy</title>
  </head>
  <body
    style="overflow-x: hidden;"
    onload="document.getElementById('{{ dataset_name }}').selected=true"
  >
    <div class="row mt-5">
      <div class="col-md-8 m-auto">
        <div class="card card-body text-center">
          <h1 class="text-center nodecor">
            <i class="fas fa-braille fa-1x"></i> Differential Privacy
          </h1>
        </div>
        <div class="card card-body">
          {% if flag == 1 %}
          <div class="alert alert-dismissible alert-success">
            <button type="button" class="close" data-dismiss="alert">
              &times;
            </button>
            Dataset changed successfully.
          </div>
          {% endif %}
          <form
            method="POST"
            class="mb-3"
            action="{{ url_for('change_dataset') }}"
          >
            <div class="form-group">
              <select class="custom-select" name="dataset" id="dataset">
                <option id="census" value="census">Adult Census</option>
                <option id="transactions" value="transactions"
                  >Online Retail</option
                >
              </select>
            </div>
            <button type="submit" class="btn btn-outline-danger btn-sm">
              Change Dataset
            </button>
          </form>
          <p class="lead mb-3">Table Loaded: <code>{{ dataset_name }}</code></p>
          <p class="lead mb-1">Dataset Preview:</p>
          <div style="overflow: auto">
            <p>
              {% block content %} {{dbPreview | safe}} {% endblock %}
            </p>
          </div>
          <form
            action="{{ url_for('handle_submit') }}"
            method="POST"
            class="mt-5"
          >
            <div id="std" class="form-group">
              <textarea
                class="form-control form-control-lg"
                name="stdQuery"
                type="text"
                placeholder="Enter Standard SQL Query"
                id="inputLarge"
                rows="3"
                spellcheck="false"
              ></textarea>
            </div>
            <div id="adv" class="form-group">
              <textarea
                class="form-control form-control-lg"
                name="advQuery"
                type="text"
                placeholder="Enter Adversarial SQL Query"
                id="inputLarge"
                rows="3"
                spellcheck="false"
              ></textarea>
            </div>
            <div class="form-group">
              <div class="custom-control custom-checkbox">
                <input
                  type="checkbox"
                  class="custom-control-input"
                  id="stdQueryCheck"
                  checked=""
                  onclick="showHideDivStd(this)"
                />
                <label class="custom-control-label" for="stdQueryCheck"
                  >Standard Query</label
                >
              </div>
              <div class="custom-control custom-checkbox">
                <input
                  type="checkbox"
                  class="custom-control-input"
                  id="dpQueryCheck"
                  checked=""
                  onclick="showHideDivAdv(this)"
                />
                <label class="custom-control-label" for="dpQueryCheck"
                  >Adversarial Query</label
                >
              </div>
            </div>
            <button type="submit" class="btn btn-outline-primary">
              Submit
            </button>
          </form>
        </div>
      </div>
    </div>

    <script>
      function showHideDivStd(chkPassport) {
        var dvPassport = document.getElementById("std");
        dvPassport.style.display = chkPassport.checked ? "block" : "none";
      }
      function showHideDivAdv(chkPassport) {
        var dvPassport = document.getElementById("adv");
        dvPassport.style.display = chkPassport.checked ? "block" : "none";
      }
    </script>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
